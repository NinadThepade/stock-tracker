(this["webpackJsonpstock-tracker"]=this["webpackJsonpstock-tracker"]||[]).push([[0],[,,,,,function(e,t,c){e.exports=c(14)},,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),o=c(4),r=c.n(o),s=(c(10),c(1)),i=c(2),l=c.n(i),u=(c(12),function(e){var t=e.stock,c=Object(a.useState)(""),o=Object(s.a)(c,2),r=o[0],i=o[1],l=Object(a.useState)(""),u=Object(s.a)(l,2),m=u[0],f=u[1];return Object(a.useEffect)((function(){var e=new Date(t.dateTime).toLocaleString().split(",");i(e[0]),f(e[1])}),[t]),n.a.createElement(a.Fragment,{className:"stock-row"},n.a.createElement("td",{className:"stock-name"},t.stockName),n.a.createElement("td",{className:"stock-price ".concat(t.isNewPriceHigher?"stock-price-higher":"stock-price-lower")},t.stockPrice),n.a.createElement("td",{className:"stock-date"},r),n.a.createElement("td",{className:"stock-time"},m))}),m=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),c=t[0],o=t[1];return Object(a.useEffect)((function(){var e=[];l.a.iterate((function(t){e.push(t)})).then((function(){o(e)})).catch((function(e){console.log(e)}))}),[c]),n.a.createElement("table",{className:"stock-container"},n.a.createElement("thead",null,n.a.createElement("th",null,"Stock Code"),n.a.createElement("th",null,"Stock Price"),n.a.createElement("th",null,"Last Updated Date"),n.a.createElement("th",null,"Last Updated Time")),n.a.createElement("tbody",null,c.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement(u,{stock:e}))}))))};c(13);var f=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),c=t[0],o=t[1];return Object(a.useEffect)((function(){var e=new WebSocket("ws://stocks.mnet.website");return e.onmessage=function(e){var t=JSON.parse(e.data).map((function(e){var t;return l.a.getItem(e[0]).then((function(c){t=c.stockPrice<e[1],l.a.setItem(e[0],{stockName:e[0],stockPrice:e[1],dateTime:Date.now(),isNewPriceHigher:t}).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),e}));o(t)},e.onclose=function(){e.close()},function(){e.close()}}),["ws://stocks.mnet.website"]),n.a.createElement("div",{className:"App"},n.a.createElement(m,{data:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.4aecb4d6.chunk.js.map