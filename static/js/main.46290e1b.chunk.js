(this["webpackJsonpstock-tracker"]=this["webpackJsonpstock-tracker"]||[]).push([[0],{35:function(e,t,n){e.exports=n(74)},40:function(e,t,n){},69:function(e,t){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c,a=n(0),o=n.n(a),r=n(33),s=n.n(r),i=(n(40),n(1)),l=n(34),u=n.n(l),m=n(3),f=n.n(m),h=(n(72),function(e){var t=e.stock,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),m=u[0],f=u[1];return Object(a.useEffect)((function(){var e=new Date(t.dateTime).toLocaleString().split(",");s(e[0]),f(e[1])}),[t]),o.a.createElement(a.Fragment,null,o.a.createElement("td",{className:"stock-name"},t.stockName),o.a.createElement("td",{className:"stock-price ".concat(t.isNewPriceHigher?"stock-price-higher":"stock-price-lower")},t.stockPrice),o.a.createElement("td",{className:"stock-date"},r),o.a.createElement("td",{className:"stock-time"},m))}),k=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=[];f.a.iterate((function(t){e.push(t)})).then((function(){c(e)})).catch((function(e){console.log(e)}))}),[n]),o.a.createElement("table",{className:"stock-container"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Stock Code"),o.a.createElement("th",null,"Stock Price"),o.a.createElement("th",null,"Last Updated Date"),o.a.createElement("th",null,"Last Updated Time"))),o.a.createElement("tbody",null,n.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement(h,{stock:e}))}))))};n(73);var d=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s="https://react-proxy-server.herokuapp.com/";return Object(a.useEffect)((function(){return(c=u()(s)).on("message",(function(e){console.log(e);var t=JSON.parse(e).map((function(e){var t;return f.a.getItem(e[0]).then((function(n){t=!!n&&n.stockPrice<e[1],f.a.setItem(e[0],{stockName:e[0],stockPrice:e[1],dateTime:Date.now(),isNewPriceHigher:t}).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),e}));r(t)})),function(){c.emit("disconnect"),c.off()}}),[s]),o.a.createElement("div",{className:"App"},o.a.createElement(k,{data:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.46290e1b.chunk.js.map